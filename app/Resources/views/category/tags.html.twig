{% extends 'layout.html.twig' %}

{% block page_title %}15x4 — Теги{% endblock %}

{% block scripts %}
    {{ parent() }}
    <script src='http://rentafont.com/web_fonts/js/eHUyODkyZ2lmcjIxNGl3eXY2MzFlbGVobzIwNTlu?f=DIN2014Light' type='text/javascript'></script>
{% endblock %}

{% block content %}
    <div class="panel panel-default" style="margin-top: 10px;">
        <div class="panel-heading">
            Всего тегов: {{ tags|length }}
        </div>
        <div class="panel-body">
            <div class="row">
                <div class="col-lg-12">
                    <div id="cloud-container" style="height: 300px;"></div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    <script type="text/javascript">
        var colors = [
            'darkred','firebrick','maroon','brown','darkred','firebrick','maroon','brown',
            'black','black',
            'darkorange','orangered',
            'goldenrod'
        ];

        $('#cloud-container').jQCloud(
            [
                {% for tag in tags %}
                    {
                        text: '{{ tag.name }}',
                        weight: 1,
                        link: '{{ path('LectureList', { 'tags': tag.id }) }}',
                        afterWordRender: function () {
                            $(this).find('a')
                                .css('color', colors[Math.floor(Math.random() * colors.length)])
                                .css('font-size', (130 + Math.floor(Math.random() * 100)) + '%')
                            ;
                        }
                    }
                    {% if not loop.last %},{% endif %}
                {% endfor %}
            ],
            { delayedMode: true }
        );
    </script>
{% endblock %}
